---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "pomeriumzero_route Resource - terraform-provider-pomeriumzero"
subcategory: ""
description: |-
  Manages a route resource in Pomerium Zero.
---

# pomeriumzero_route (Resource)

Manages a route resource in Pomerium Zero.

## Example Usage

```terraform
resource "pomeriumzero_route" "verify" {
  name         = "Verify"
  from         = "https://verify.${pomeriumzero_cluster.default.fqdn}"
  to           = ["https://verify.pomerium.com"]
  namespace_id = data.pomeriumzero_cluster.default.namespace_id

  allow_websockets     = false
  preserve_host_header = false

  policy_ids = [
    pomeriumzero_policy.allow_any_authenticated_user.id
  ]

  pass_identity_headers = true
}


resource "pomeriumzero_route" "foobar_tooling" {
  name = "Foobar Tooling"
  # The external URL that the Pomerium Zero cluster should listen on
  from = "https://foobar-tool.example.com"
  # A system that is only reachable by the Pomerium Zero cluster via a private network
  to = ["https://foobar-tool.examplecorp.lan/"]
  # Only match requests that begin with /home/
  prefix = "/home/"
  # Make sure to also include the prefix when forwarding the requests to the origin
  prefix_rewrite       = "/home/"
  namespace_id         = data.pomeriumzero_cluster.default.namespace_id
  allow_websockets     = false
  preserve_host_header = false
  policy_ids = [
    pomeriumzero_policy.allow_foobar_group_members.id
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `from` (String) The source URL for the route. This is the URL that Pomerium will listen on.
- `name` (String) The name of the route. Must be unique within the namespace.
- `namespace_id` (String) The ID of the namespace where the route will be created.
- `to` (List of String) A list of destination URLs for the route. These are the backend servers that Pomerium will forward requests to.

### Optional

- `allow_spdy` (Boolean) If set to `true`, allows the use of the SPDY protocol for this route.
- `allow_websockets` (Boolean) If set to `true`, allows WebSocket connections for this route.
- `enable_google_cloud_serverless_authentication` (Boolean) If set to `true`, enables Google Cloud Serverless Authentication for this route.
- `pass_identity_headers` (Boolean) If set to `true`, passes identity headers to the upstream service.
- `policy_ids` (List of String) A list of policy IDs to associate with this route. These policies will be applied to requests matching this route.
- `prefix` (String) The URL prefix for the route. If specified, only requests with this prefix will be matched.
- `prefix_rewrite` (String) If specified, rewrites the URL prefix before forwarding the request to the upstream service.
- `preserve_host_header` (Boolean) If set to `true`, preserves the original host header when proxying requests.
- `show_error_details` (Boolean) If set to `true`, shows detailed error messages when errors occur.
- `tls_skip_verify` (Boolean) If set to `true`, skips TLS verification for upstream connections. Use with caution.
- `tls_upstream_allow_renegotiation` (Boolean) If set to `true`, allows TLS renegotiation for upstream connections.
- `kubernetes_service_account_token` (String) Kubernetes service account token used for accessing kubernetes api via pomerium.

### Read-Only

- `id` (String) The unique identifier of the route.

## Import

Import is supported using the following syntax:

```shell
# Routes can be imported by specifying the route ID. You can see the route ID in the URL when viewing the policy in the Pomerium console.
terraform import pomeriumzero_route.verify bRMWzWNvrZruhmMgashHJegGeGL
```
